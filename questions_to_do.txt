questions:


build with docker: will be updated(?) or not each time we call "docker compose up" or how to force to rebuild the image???
    docker compose build will do the rebuilding (but do cache as much as possible)
        --done

compose.yml is defining the run time things(?) Yes
    --done

Dockerfile is the build time things(?)      Yes
    --done

Concepts::: should I do docker with or without conda????? (probably NOT!!!)

about docker registry. how to work with registry. create a project and push to the registry
    yes done.1
   ---- done
   
# if we pull certain version of R 4.1.3 at a certain time, then if we do it later still for some rocker/rstudio:4.1.3 for example, 
will the rstudio and underlying ubuntu be the same versions?????



docker run -p 8787:8787 -v docker_vol1:/home/rstudio/testR \
    --name testr_docker testr_docker
    

###
need to test docker commit with changes in the library R.

### 
cuda docker.
    
    
# steps to push changes
- make changes
- commit changes of container to the original image(?), docker commit
- push to the server. docker push 




##
https://stackoverflow.com/questions/25845538/how-to-use-sudo-inside-a-docker-container

For anyone who has this issue with an already running container, and they don't necessarily want to rebuild, the following command connects to a running container with root privileges:

docker exec -ti -u root container_name bash

You can also connect using its ID, rather than its name, by finding it with:

docker ps -l

To save your changes so that they are still there when you next launch the container (or docker-compose cluster) - note that these changes would not be repeated if you rebuild from scratch:

docker commit container_id image_name

To roll back to a previous image version (warning: this deletes history rather than appends to the end, so to keep a reference to the current image, tag it first using the optional step):

docker history image_name
docker tag latest_image_id my_descriptive_tag_name  # optional
docker tag desired_history_image_id image_name

To start a container that isn't running and connect as root:

docker run -ti -u root --entrypoint=/bin/bash image_id_or_name -s

To copy from a running container:

docker cp <containerId>:/file/path/within/container /host/path/target

To export a copy of the image:

docker save container | gzip > /dir/file.tar.gz

Which you can restore to another Docker install using:

gzcat /dir/file.tar.gz | docker load

It is much quicker but takes more space to not compress, using:

docker save container | dir/file.tar

And:

cat dir/file.tar | docker load


