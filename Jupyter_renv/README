# a small project to test how to incorporate renv in jupyter r project

## it seems there are two hard issuses
- with sub-folders in the project

    solution: write special .Rprofile for each subfolder.
    
- how to keep track of R packages in renv.lock? Because renv doesn't check
  .pyinb files for R packages. 

    answer: R will check in each folder for .Rprofile. This way it will load through
    activate.R code for renv local libraries.

see explanations in the github reposition about this issue.


## Note about base image
jupyter/r-notebook

this base image using conda for jupyter (/opt/conda). So R is also installed under conda.
This means that some packages are installed under conda too and we need to add dependencies
under conda (such as, pkg-config, pandoc, make, etc. ). For some special one, we might need
to go to use R studio images, since they have system-wise R installation.

!!!

## Note about this work

We did not push the image to the hub. It is not necessary for this testing project. We mainly provide the 
docker and compose yaml here. 

To run this, we need to bring up the container by 
    
    docker compose up
    
Then check for the docker host ip, by in a separate console and do
    
    docker ps 

Then we will see the output like
    
    44d708d58190   jupyter_renv-jupyter_renv   "tini -g -- start-noâ€¦"   2 minutes ago   Up 2 minutes (healthy)   0.0.0.0:8888->8888/tcp, :::8888->8888/tcp   jupyter_renv-jupyter_renv-1

The we know the ip is "0.0.0.0:8888". So we could bring up the app
by 0.0.0.0:8888/lab?token=............
with the token to be the one printed in the "docker compose up" output.

## the jupyter lab interface also provide command line console that we can used
to bring command line R interface to do renv operations and others too.

## NEXT step: need to do multiple services or containers for both R studio and jupyter lab.
and then selection one to use.

    docker compose start [service...]
